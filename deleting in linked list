import java.util.*;
 class Node
{
	int data;
	Node next;
	Node(int data){
	 this.data=data;
	 this.next=null;
	}
}
public class Main{
	   static  Node head=null;
	     void insertAtend(int data){
	          Node newNode=new Node(data);
	         if(head==null){
	              head=newNode;
	              return;
	         }
	         Node temp=head;
	         while(temp.next!=null){
	              temp=temp.next;
	              
	         }
	         temp.next=newNode;
	     }
	     void deleteFirst(){
	          if(head==null){
	          System.out.println("list is empty");
	          return;
	          }
	          head=head.next;
	     }
	     void deleteEnd(){
	          if(head==null||head.next==null){
	               head= null;
	               return ;
	               
	          }
	          
	          Node temp=head;
	          while(temp.next.next!=null){
	               temp=temp.next;
	          }
	          temp.next=null;
	     }
	     static void display(){
	          Node temp=head;
	          while(temp!=null){
	          System.out.println(temp.data+" ");
	          temp=temp.next;
	     }
	}
	public static void main(String[] args){
	     Scanner s=new Scanner(System.in);
	     Main list=new Main();
	     int n=s.nextInt();
	     for(int i=0;i<n;i++){
	          int val=s.nextInt();
	          list.insertAtend(val);
	     }
	     display();
	     list.deleteFirst();
	    display();
	    list.deleteEnd();
	    display();
	     
	}
	
}
